<!DOCTYPE html>
<html lang="en">
<head>  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GMPFDGH1S6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-GMPFDGH1S6');
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1474106000436975"
     crossorigin="anonymous"></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="google-adsense-account" content="ca-pub-1474106000436975">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"gaoshan070.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="RESTful is currently the most popular API design standard used for designing web data interfaces. Its core principles are easy to grasp, but the details can be tricky to get right. This article summa">
<meta property="og:type" content="article">
<meta property="og:title" content="Restful API Design: Best Practices and Guidelines">
<meta property="og:url" content="http://gaoshan070.github.io/2024/09/12/restful-api-design/index.html">
<meta property="og:site_name" content="Shawn&#39;s Tech Blog">
<meta property="og:description" content="RESTful is currently the most popular API design standard used for designing web data interfaces. Its core principles are easy to grasp, but the details can be tricky to get right. This article summa">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-09-12T01:59:30.255Z">
<meta property="article:modified_time" content="2024-09-15T08:54:44.321Z">
<meta property="article:author" content="Shawn">
<meta property="article:tag" content="API">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://gaoshan070.github.io/2024/09/12/restful-api-design/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://gaoshan070.github.io/2024/09/12/restful-api-design/","path":"2024/09/12/restful-api-design/","title":"Restful API Design: Best Practices and Guidelines"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Restful API Design: Best Practices and Guidelines | Shawn's Tech Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Shawn's Tech Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="Searching..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-URL-Design"><span class="nav-number">1.</span> <span class="nav-text">1. URL Design</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-Verb-Object"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 Verb + Object</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-Overriding-Verbs"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 Overriding Verbs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-The-Object-Must-Be-a-Noun"><span class="nav-number">1.3.</span> <span class="nav-text">1.3 The Object Must Be a Noun</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-Plural-URLs"><span class="nav-number">1.4.</span> <span class="nav-text">1.4 Plural URLs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-Avoid-Deeply-Nested-URLs"><span class="nav-number">1.5.</span> <span class="nav-text">1.5 Avoid Deeply Nested URLs</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Status-Codes"><span class="nav-number">2.</span> <span class="nav-text">2. Status Codes</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-Status-Codes-Must-Be-Precise"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 Status Codes Must Be Precise</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-2xx-Status-Codes"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 2xx Status Codes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-3xx-Status-Codes"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 3xx Status Codes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-4xx-Status-Codes"><span class="nav-number">2.4.</span> <span class="nav-text">2.4 4xx Status Codes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-5xx-Status-Codes"><span class="nav-number">2.5.</span> <span class="nav-text">2.5 5xx Status Codes</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Server-Response"><span class="nav-number">3.</span> <span class="nav-text">3. Server Response</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-Avoid-Plain-Text-Responses"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 Avoid Plain Text Responses</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-Don%E2%80%99t-Return-200-Status-for-Errors"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 Don’t Return 200 Status for Errors</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-Provide-Links"><span class="nav-number">4.</span> <span class="nav-text">3.3 Provide Links</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Shawn</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://gaoshan070.github.io/2024/09/12/restful-api-design/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Shawn">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shawn's Tech Blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Restful API Design: Best Practices and Guidelines | Shawn's Tech Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Restful API Design: Best Practices and Guidelines
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-09-12 13:59:30" itemprop="dateCreated datePublished" datetime="2024-09-12T13:59:30+12:00">2024-09-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-09-15 20:54:44" itemprop="dateModified" datetime="2024-09-15T20:54:44+12:00">2024-09-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Restful-API/" itemprop="url" rel="index"><span itemprop="name">Restful API</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><hr>
<p>RESTful is currently the most popular API design standard used for designing web data interfaces.</p>
<p>Its core principles are easy to grasp, but the details can be tricky to get right. This article summarizes the finer points of RESTful design and explains how to design APIs that are easy to understand and use.</p>
<span id="more"></span>
<h2 id="1-URL-Design"><a href="#1-URL-Design" class="headerlink" title="1. URL Design"></a>1. URL Design</h2><hr>
<h3 id="1-1-Verb-Object"><a href="#1-1-Verb-Object" class="headerlink" title="1.1 Verb + Object"></a>1.1 Verb + Object</h3><p>The core idea of RESTful design is that the client’s data operation commands follow the structure “verb + object.” For example, the command GET &#x2F;articles uses GET as the verb and &#x2F;articles as the object.</p>
<p>The verbs usually correspond to the five HTTP methods, which align with CRUD operations:</p>
<ul>
<li>GET: Read</li>
<li>POST: Create</li>
<li>PUT: Update</li>
<li>PATCH: Update (usually partial updates)</li>
<li>DELETE: Delete<br>According to the HTTP specification, verbs should always be in uppercase.</li>
</ul>
<h3 id="1-2-Overriding-Verbs"><a href="#1-2-Overriding-Verbs" class="headerlink" title="1.2 Overriding Verbs"></a>1.2 Overriding Verbs</h3><p>Some clients can only use the GET and POST methods. In such cases, the server must accept POST to simulate the other three methods (PUT, PATCH, DELETE).</p>
<p>In this situation, the HTTP request from the client should include the X-HTTP-Method-Override header to inform the server which method to use, overriding the default POST method.</p>
<p>Example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">POST /api/Person/4 HTTP/1.1  </span><br><span class="line">X-HTTP-Method-Override: PUT</span><br></pre></td></tr></table></figure>

<p>In the example above, X-HTTP-Method-Override specifies that the request method should be treated as PUT, instead of POST.</p>
<h3 id="1-3-The-Object-Must-Be-a-Noun"><a href="#1-3-The-Object-Must-Be-a-Noun" class="headerlink" title="1.3 The Object Must Be a Noun"></a>1.3 The Object Must Be a Noun</h3><p>The object, which is the API’s URL, is the target of the HTTP verb. It should always be a noun, not a verb. For instance, &#x2F;articles is a correct URL, while the following URLs are incorrect because they are not nouns:</p>
<ul>
<li>&#x2F;getAllUsers</li>
<li>&#x2F;createNewUser</li>
<li>&#x2F;deleteAllUsers</li>
</ul>
<h3 id="1-4-Plural-URLs"><a href="#1-4-Plural-URLs" class="headerlink" title="1.4 Plural URLs"></a>1.4 Plural URLs</h3><p>Since URLs are nouns, should they be plural or singular?</p>
<p>There is no strict rule, but it’s common to perform operations on collections, such as GET &#x2F;articles (retrieve all articles), where it’s clear that the URL should be plural.</p>
<p>For consistency, it’s recommended to always use plural URLs. For example, GET &#x2F;articles&#x2F;2 is better than GET &#x2F;article&#x2F;2.</p>
<h3 id="1-5-Avoid-Deeply-Nested-URLs"><a href="#1-5-Avoid-Deeply-Nested-URLs" class="headerlink" title="1.5 Avoid Deeply Nested URLs"></a>1.5 Avoid Deeply Nested URLs</h3><p>A common scenario is that resources require multiple levels of categorization, leading to deeply nested URLs, such as fetching a certain type of article by a specific author:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /authors/12/categories/2</span><br></pre></td></tr></table></figure>
<p>This kind of URL is difficult to extend and its meaning isn’t immediately clear. A better approach is to use query strings for all levels beyond the first:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /authors/12?categories=2</span><br></pre></td></tr></table></figure>
<p>Another example is querying for published articles. You might be tempted to design the following URL:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /articles/published</span><br></pre></td></tr></table></figure>
<p>But the query string format is clearly better:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /articles?published=true</span><br></pre></td></tr></table></figure>

<h2 id="2-Status-Codes"><a href="#2-Status-Codes" class="headerlink" title="2. Status Codes"></a>2. Status Codes</h2><hr>
<h3 id="2-1-Status-Codes-Must-Be-Precise"><a href="#2-1-Status-Codes-Must-Be-Precise" class="headerlink" title="2.1 Status Codes Must Be Precise"></a>2.1 Status Codes Must Be Precise</h3><p>For every client request, the server must respond. The response includes both an HTTP status code and data.</p>
<p>HTTP status codes are three-digit numbers, divided into five categories:</p>
<ul>
<li>1xx: Informational</li>
<li>2xx: Success</li>
<li>3xx: Redirection</li>
<li>4xx: Client Error</li>
<li>5xx: Server Error<br>These five categories cover most situations, and each status code has a standard or agreed-upon explanation. Clients can understand what happened simply by checking the status code. Therefore, servers should return the most precise status code possible.</li>
</ul>
<p>APIs do not generally need 1xx status codes, so the following sections will focus on the other four categories.</p>
<h3 id="2-2-2xx-Status-Codes"><a href="#2-2-2xx-Status-Codes" class="headerlink" title="2.2 2xx Status Codes"></a>2.2 2xx Status Codes</h3><p>The 200 status code indicates success, but different methods can return more specific status codes:</p>
<ul>
<li><strong>GET</strong>: 200 OK</li>
<li><strong>POST</strong>: 201 Created</li>
<li><strong>PUT</strong>: 200 OK</li>
<li><strong>PATCH</strong>: 200 OK</li>
<li><strong>DELETE</strong>: 204 No Content</li>
</ul>
<p>In the example above, POST returns a 201 status code, indicating a new resource was created, and DELETE returns 204, meaning the resource no longer exists.</p>
<p>Additionally, the 202 Accepted status code means the server has received the request but has not yet processed it, often used for asynchronous operations. Here’s an example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 202 Accepted</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;task&quot;: &#123;</span><br><span class="line">    &quot;href&quot;: &quot;/api/company/job-management/jobs/2130040&quot;,</span><br><span class="line">    &quot;id&quot;: &quot;2130040&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-3-3xx-Status-Codes"><a href="#2-3-3xx-Status-Codes" class="headerlink" title="2.3 3xx Status Codes"></a>2.3 3xx Status Codes</h3><p>APIs generally don’t use the 301 (permanent redirection) or 302 (temporary redirection, including 307) status codes because browsers handle them directly, and they’re not necessary at the API level.</p>
<p>Instead, APIs may use the 303 See Other status code, which indicates a reference to another URL. It functions similarly to 302 and 307, but 303 is used for POST, PUT, and DELETE requests. Upon receiving a 303 status code, the browser won’t automatically redirect, allowing the user to decide the next step. Here’s an example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 303 See Other</span><br><span class="line">Location: /api/orders/12345</span><br></pre></td></tr></table></figure>

<h3 id="2-4-4xx-Status-Codes"><a href="#2-4-4xx-Status-Codes" class="headerlink" title="2.4 4xx Status Codes"></a>2.4 4xx Status Codes</h3><p><code>4xx</code> status codes represent client errors. Common codes include:<br><code>400 Bad Request</code>: The server cannot understand the client’s request and hasn’t processed it.<br><code>401 Unauthorized</code>: The user has not provided authentication credentials, or they failed authentication.<br><code>403 Forbidden</code>: The user passed authentication but doesn’t have permission to access the resource.<br><code>404 Not Found</code>: The requested resource doesn’t exist or isn’t available.<br><code>405 Method Not Allowed</code>: The authenticated user doesn’t have permission to use the HTTP method.<br><code>410 Gone</code>: The requested resource has been permanently removed from this URL.<br><code>415 Unsupported Media Type</code>: The client requested a format that’s not supported. For example, the API only returns JSON, but the client requested XML.<br><code>422 Unprocessable Entity</code>: The client sent an attachment that the server can’t process, causing the request to fail.<br><code>429 Too Many Requests</code>: The client has exceeded their rate limit.</p>
<h3 id="2-5-5xx-Status-Codes"><a href="#2-5-5xx-Status-Codes" class="headerlink" title="2.5 5xx Status Codes"></a>2.5 5xx Status Codes</h3><p><code>5xx</code> status codes represent server errors. Generally, APIs don’t need to disclose detailed server information, so two codes are typically sufficient:<br><code>500 Internal Server Error</code>: The client’s request was valid, but an unexpected error occurred during processing.<br><code>503 Service Unavailable</code>: The server is unable to handle the request, usually indicating maintenance.</p>
<h2 id="3-Server-Response"><a href="#3-Server-Response" class="headerlink" title="3. Server Response"></a>3. Server Response</h2><hr>
<h3 id="3-1-Avoid-Plain-Text-Responses"><a href="#3-1-Avoid-Plain-Text-Responses" class="headerlink" title="3.1 Avoid Plain Text Responses"></a>3.1 Avoid Plain Text Responses</h3><p>API responses should not be plain text. Instead, they should return structured data in a JSON object. This allows the data to be easily parsed and understood. Therefore, the server’s response header should include Content-Type: application&#x2F;json.</p>
<p>Similarly, clients should explicitly inform the server that they accept JSON responses by setting the Accept header to application&#x2F;json. Example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET /orders/2 HTTP/1.1 </span><br><span class="line">Accept: application/json</span><br></pre></td></tr></table></figure>
<h3 id="3-2-Don’t-Return-200-Status-for-Errors"><a href="#3-2-Don’t-Return-200-Status-for-Errors" class="headerlink" title="3.2 Don’t Return 200 Status for Errors"></a>3.2 Don’t Return 200 Status for Errors</h3><p>A common mistake is returning a 200 status code even when an error occurs, and placing the error message inside the response body. For example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Content-Type: application/json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;status&quot;: &quot;failure&quot;,</span><br><span class="line">  &quot;data&quot;: &#123;</span><br><span class="line">    &quot;error&quot;: &quot;Expected at least two items in list.&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In the example above, only after parsing the response body can the client know that the operation failed. This approach effectively nullifies the usefulness of status codes and should be avoided. The correct approach is to return an appropriate error status code, with details in the response body:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 400 Bad Request</span><br><span class="line">Content-Type: application/json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;error&quot;: &quot;Invalid payload.&quot;,</span><br><span class="line">  &quot;detail&quot;: &#123;</span><br><span class="line">     &quot;surname&quot;: &quot;This field is required.&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-3-Provide-Links"><a href="#3-3-Provide-Links" class="headerlink" title="3.3 Provide Links"></a>3.3 Provide Links</h2><p>API users might not always know how URLs are structured. One solution is to include relevant links in the response to guide the user’s next steps. This approach is called HATEOAS (Hypermedia as the Engine of Application State).</p>
<p>For example, GitHub’s API includes links to other URLs:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  &quot;feeds_url&quot;: &quot;https://api.github.com/feeds&quot;,</span><br><span class="line">  &quot;followers_url&quot;: &quot;https://api.github.com/user/followers&quot;,</span><br><span class="line">  &quot;following_url&quot;: &quot;https://api.github.com/user/following&#123;/target&#125;&quot;,</span><br><span class="line">  &quot;gists_url&quot;: &quot;https://api.github.com/gists&#123;/gist_id&#125;&quot;,</span><br><span class="line">  &quot;hub_url&quot;: &quot;https://api.github.com/hub&quot;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In the response above, following one URL will lead to more URLs. Users don’t need to memorize URL designs—they can discover them step by step starting from api.github.com.</p>
<p>There is no standardized format for HATEOAS. In the example above, GitHub mixes links with other properties. A better practice would be to separate related links from other attributes:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Content-Type: application/json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;status&quot;: &quot;In progress&quot;,</span><br><span class="line">   &quot;links&quot;: &#123;[</span><br><span class="line">    &#123; &quot;rel&quot;:&quot;cancel&quot;, &quot;method&quot;: &quot;delete&quot;, &quot;href&quot;:&quot;/api/status/12345&quot; &#125; ,</span><br><span class="line">    &#123; &quot;rel&quot;:&quot;edit&quot;, &quot;method&quot;: &quot;put&quot;, &quot;href&quot;:&quot;/api/status/12345&quot; &#125;</span><br><span class="line">  ]&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/API/" rel="tag"># API</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/09/12/hexo-tutorial/" rel="prev" title="Hexo Introduction">
                  <i class="fa fa-angle-left"></i> Hexo Introduction
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/09/15/object-oriented-programming/" rel="next" title="Object Oriented Programming">
                  Object Oriented Programming <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Shawn</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  





</body>
</html>
